NAME
    FS::agent - Object methods for agent records

SYNOPSIS
      use FS::agent;

      $record = new FS::agent \%hash;
      $record = new FS::agent { 'column' => 'value' };

      $error = $record->insert;

      $error = $new_record->replace($old_record);

      $error = $record->delete;

      $error = $record->check;

DESCRIPTION
    An FS::agent object represents an agent. Every customer has an
    agent. Agents can be used to track things like resellers or
    salespeople. FS::agent inherits from FS::Record. The following
    fields are currently supported:

    agemtnum - primary key (assigned automatically for new agents)
    agent - Text name of this agent
    typenum - Agent type.  See the FS::agent_type manpage
    prog - For future use.
    freq - For future use.
METHODS
    new HASHREF
        Creates a new agent. To add the agent to the database, see
        the section on "insert".

    insert
        Adds this agent to the database. If there is an error,
        returns the error, otherwise returns false.

    delete
        Deletes this agent from the database. Only agents with no
        customers can be deleted. If there is an error, returns the
        error, otherwise returns false.

    replace OLD_RECORD
        Replaces OLD_RECORD with this one in the database. If there
        is an error, returns the error, otherwise returns false.

    check
        Checks all fields to make sure this is a valid agent. If
        there is an error, returns the error, otherwise returns
        false. Called by the insert and replace methods.

VERSION
    $Id: agent.txt,v 1.3 1999-04-08 13:39:31 ivan Exp $

BUGS
SEE ALSO
    the FS::Record manpage, the FS::agent_type manpage, the
    FS::cust_main manpage, schema.html from the base documentation.

HISTORY
    Class dealing with agent (resellers)

    ivan@sisd.com 97-nov-13, 97-dec-10

    pod, added check in ->delete ivan@sisd.com 98-sep-22

