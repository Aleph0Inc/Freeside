<HTML>
<HEAD>
<TITLE>FS::agent_type - Object methods for agent_type records</TITLE>
<LINK REV="made" HREF="mailto:ivan@rootwood.sisd.com">
</HEAD>

<BODY>

<!-- INDEX BEGIN -->

<UL>

	<LI><A HREF="#NAME">NAME</A>
	<LI><A HREF="#SYNOPSIS">SYNOPSIS</A>
	<LI><A HREF="#DESCRIPTION">DESCRIPTION</A>
	<LI><A HREF="#METHODS">METHODS</A>
	<LI><A HREF="#VERSION">VERSION</A>
	<LI><A HREF="#BUGS">BUGS</A>
	<LI><A HREF="#SEE_ALSO">SEE ALSO</A>
</UL>
<!-- INDEX END -->

<HR>
<P>
<H1><A NAME="NAME">NAME</A></H1>
<P>
FS::agent_type - Object methods for agent_type records

<P>
<HR>
<H1><A NAME="SYNOPSIS">SYNOPSIS</A></H1>
<P>
<PRE>  use FS::agent_type;
</PRE>
<P>
<PRE>  $record = new FS::agent_type \%hash;
  $record = new FS::agent_type { 'column' =&gt; 'value' };
</PRE>
<P>
<PRE>  $error = $record-&gt;insert;
</PRE>
<P>
<PRE>  $error = $new_record-&gt;replace($old_record);
</PRE>
<P>
<PRE>  $error = $record-&gt;delete;
</PRE>
<P>
<PRE>  $error = $record-&gt;check;
</PRE>
<P>
<PRE>  $hashref = $record-&gt;pkgpart_hashref;
  #may purchase $pkgpart if $hashref-&gt;{$pkgpart};
</PRE>
<P>
<PRE>  @type_pkgs = $record-&gt;type_pkgs;
</PRE>
<P>
<PRE>  @pkgparts = $record-&gt;pkgpart;
</PRE>
<P>
<HR>
<H1><A NAME="DESCRIPTION">DESCRIPTION</A></H1>
<P>
An FS::agent_type object represents an agent type. Every agent (see
<A HREF="../FS/agent.html">FS::agent</A>) has an agent type. Agent types define which packages (see
<A HREF="../FS/part_pkg.html">FS::part_pkg</A>) may be purchased by customers (see <A HREF="../FS/cust_main.html">FS::cust_main</A>), via FS::type_pkgs records (see <A HREF="../FS/type_pkgs.html">FS::type_pkgs</A>). FS::agent_type inherits from FS::Record. The following fields are
currently supported:

<DL>
<DT><STRONG><A NAME="item_typenum">typenum - primary key (assigned automatically for new agent types)</A></STRONG><DD>
<DT><STRONG><A NAME="item_atype">atype - Text name of this agent type</A></STRONG><DD>
</DL>
<P>
<HR>
<H1><A NAME="METHODS">METHODS</A></H1>
<DL>
<DT><STRONG><A NAME="item_new">new HASHREF</A></STRONG><DD>
<P>
Creates a new agent type. To add the agent type to the database, see
<A HREF="#insert">insert</A>.

<DT><STRONG><A NAME="item_insert">insert</A></STRONG><DD>
<P>
Adds this agent type to the database. If there is an error, returns the
error, otherwise returns false.

<DT><STRONG><A NAME="item_delete">delete</A></STRONG><DD>
<P>
Deletes this agent type from the database. Only agent types with no agents
can be deleted. If there is an error, returns the error, otherwise returns
false.

<DT><STRONG><A NAME="item_replace">replace OLD_RECORD</A></STRONG><DD>
<P>
Replaces OLD_RECORD with this one in the database. If there is an error,
returns the error, otherwise returns false.

<DT><STRONG><A NAME="item_check">check</A></STRONG><DD>
<P>
Checks all fields to make sure this is a valid agent type. If there is an
error, returns the error, otherwise returns false. Called by the insert and
replace methods.

<DT><STRONG><A NAME="item_pkgpart_hashref">pkgpart_hashref</A></STRONG><DD>
<P>
Returns a hash reference. The keys of the hash are pkgparts. The value is
true iff this agent may purchase the specified package definition. See
<A HREF="../FS/part_pkg.html">FS::part_pkg</A>.

<DT><STRONG><A NAME="item_type_pkgs">type_pkgs</A></STRONG><DD>
<P>
Returns all FS::type_pkgs objects (see <A HREF="../FS/type_pkgs.html">FS::type_pkgs</A>) for this agent type.

<DT><STRONG><A NAME="item_pkgpart">pkgpart</A></STRONG><DD>
<P>
Returns the pkgpart of all package definitions (see <A HREF="../FS/part_pkg.html">FS::part_pkg</A>) for this agent type.

</DL>
<P>
<HR>
<H1><A NAME="VERSION">VERSION</A></H1>
<P>
$Id: agent_type.html,v 1.1 1999-08-04 12:13:27 ivan Exp $

<P>
<HR>
<H1><A NAME="BUGS">BUGS</A></H1>
<P>
<HR>
<H1><A NAME="SEE_ALSO">SEE ALSO</A></H1>
<P>
<A HREF="../FS/Record.html">FS::Record</A>, <A HREF="../FS/agent.html">FS::agent</A>, <A HREF="../FS/type_pkgs.html">FS::type_pkgs</A>, <A HREF="../FS/cust_main.html">FS::cust_main</A>,
<A HREF="../FS/part_pkg.html">FS::part_pkg</A>, schema.html from the base documentation.

</BODY>

</HTML>
