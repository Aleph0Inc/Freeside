<HTML>
<HEAD>
<TITLE>FS::cust_pay_batch - Object methods for batch cards</TITLE>
<LINK REV="made" HREF="mailto:none">
</HEAD>

<BODY>

<!-- INDEX BEGIN -->

<UL>

	<LI><A HREF="#NAME">NAME</A>
	<LI><A HREF="#SYNOPSIS">SYNOPSIS</A>
	<LI><A HREF="#DESCRIPTION">DESCRIPTION</A>
	<LI><A HREF="#METHODS">METHODS</A>
	<LI><A HREF="#VERSION">VERSION</A>
	<LI><A HREF="#BUGS">BUGS</A>
	<LI><A HREF="#SEE_ALSO">SEE ALSO</A>
</UL>
<!-- INDEX END -->

<HR>
<P>
<H1><A NAME="NAME">NAME</A></H1>
<P>
FS::cust_pay_batch - Object methods for batch cards

<P>
<HR>
<H1><A NAME="SYNOPSIS">SYNOPSIS</A></H1>
<P>
<PRE>  use FS::cust_pay_batch;
</PRE>
<P>
<PRE>  $record = new FS::cust_pay_batch \%hash;
  $record = new FS::cust_pay_batch { 'column' =&gt; 'value' };
</PRE>
<P>
<PRE>  $error = $record-&gt;insert;
</PRE>
<P>
<PRE>  $error = $new_record-&gt;replace($old_record);
</PRE>
<P>
<PRE>  $error = $record-&gt;delete;
</PRE>
<P>
<PRE>  $error = $record-&gt;check;
</PRE>
<P>
<HR>
<H1><A NAME="DESCRIPTION">DESCRIPTION</A></H1>
<P>
An FS::cust_pay_batch object represents a credit card transaction ready to
be batched (sent to a processor). FS::cust_pay_batch inherits from
FS::Record. Typically called by the collect method of an FS::cust_main
object. The following fields are currently supported:

<DL>
<DT><STRONG><A NAME="item_trancode">trancode - 77 for charges</A></STRONG><DD>
<DT><STRONG><A NAME="item_cardnum">cardnum</A></STRONG><DD>
<DT><STRONG><A NAME="item_exp">exp - card expiration</A></STRONG><DD>
<DT><STRONG><A NAME="item_amount">amount</A></STRONG><DD>
<DT><STRONG><A NAME="item_invnum">invnum - invoice</A></STRONG><DD>
<DT><STRONG><A NAME="item_custnum">custnum - customer</A></STRONG><DD>
<DT><STRONG><A NAME="item_payname">payname - name on card</A></STRONG><DD>
<DT><STRONG><A NAME="item_first">first - name</A></STRONG><DD>
<DT><STRONG><A NAME="item_last">last - name</A></STRONG><DD>
<DT><STRONG><A NAME="item_address1">address1</A></STRONG><DD>
<DT><STRONG><A NAME="item_address2">address2</A></STRONG><DD>
<DT><STRONG><A NAME="item_city">city</A></STRONG><DD>
<DT><STRONG><A NAME="item_state">state</A></STRONG><DD>
<DT><STRONG><A NAME="item_zip">zip</A></STRONG><DD>
<DT><STRONG><A NAME="item_country">country</A></STRONG><DD>
</DL>
<P>
<HR>
<H1><A NAME="METHODS">METHODS</A></H1>
<DL>
<DT><STRONG><A NAME="item_new">new HASHREF</A></STRONG><DD>
<P>
Creates a new record. To add the record to the database, see <A HREF="#insert">insert</A>.

<P>
Note that this stores the hash reference, not a distinct copy of the hash
it points to. You can ask the object for a copy with the <EM>hash</EM> method.

<DT><STRONG><A NAME="item_insert">insert</A></STRONG><DD>
<P>
Adds this record to the database. If there is an error, returns the error,
otherwise returns false.

<DT><STRONG><A NAME="item_delete">delete</A></STRONG><DD>
<P>
Delete this record from the database. If there is an error, returns the
error, otherwise returns false.

<DT><STRONG><A NAME="item_replace">replace OLD_RECORD</A></STRONG><DD>
<P>
#inactive # #Replaces the OLD_RECORD with this one in the database. If
there is an error, #returns the error, otherwise returns false.

<DT><STRONG><A NAME="item_check">check</A></STRONG><DD>
<P>
Checks all fields to make sure this is a valid transaction. If there is an
error, returns the error, otherwise returns false. Called by the insert and
repalce methods.

</DL>
<P>
<HR>
<H1><A NAME="VERSION">VERSION</A></H1>
<P>
$Id: cust_pay_batch.html,v 1.2 2000-03-03 18:22:43 ivan Exp $

<P>
<HR>
<H1><A NAME="BUGS">BUGS</A></H1>
<P>
There should probably be a configuration file with a list of allowed credit
card types.

<P>
<HR>
<H1><A NAME="SEE_ALSO">SEE ALSO</A></H1>
<P>
<A HREF="../FS/cust_main.html">FS::cust_main</A>, <A HREF="../FS/Record.html">FS::Record</A>



</BODY>

</HTML>
