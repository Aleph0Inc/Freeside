<HTML>
<HEAD>
<TITLE>FS::cust_pay_batch - Object methods for batch cards</TITLE>
<LINK REV="made" HREF="mailto:perl@packages.debian.org">
</HEAD>

<BODY>

<A NAME="__index__"></A>
<!-- INDEX BEGIN -->

<UL>

	<LI><A HREF="#name">NAME</A></LI>
	<LI><A HREF="#synopsis">SYNOPSIS</A></LI>
	<LI><A HREF="#description">DESCRIPTION</A></LI>
	<LI><A HREF="#methods">METHODS</A></LI>
	<LI><A HREF="#version">VERSION</A></LI>
	<LI><A HREF="#bugs">BUGS</A></LI>
	<LI><A HREF="#see also">SEE ALSO</A></LI>
</UL>
<!-- INDEX END -->

<HR>
<P>
<H1><A NAME="name">NAME</A></H1>
<P>FS::cust_pay_batch - Object methods for batch cards</P>
<P>
<HR>
<H1><A NAME="synopsis">SYNOPSIS</A></H1>
<PRE>
  use FS::cust_pay_batch;</PRE>
<PRE>
  $record = new FS::cust_pay_batch \%hash;
  $record = new FS::cust_pay_batch { 'column' =&gt; 'value' };</PRE>
<PRE>
  $error = $record-&gt;insert;</PRE>
<PRE>
  $error = $new_record-&gt;replace($old_record);</PRE>
<PRE>
  $error = $record-&gt;delete;</PRE>
<PRE>
  $error = $record-&gt;check;</PRE>
<P>
<HR>
<H1><A NAME="description">DESCRIPTION</A></H1>
<P>An FS::cust_pay_batch object represents a credit card transaction ready to be
batched (sent to a processor).  FS::cust_pay_batch inherits from FS::Record.  
Typically called by the collect method of an FS::cust_main object.  The
following fields are currently supported:</P>
<DL>
<DT><STRONG><A NAME="item_trancode_%2D_77_for_charges">trancode - 77 for charges</A></STRONG><BR>
<DD>
<DT><STRONG><A NAME="item_cardnum">cardnum</A></STRONG><BR>
<DD>
<DT><STRONG><A NAME="item_exp_%2D_card_expiration">exp - card expiration</A></STRONG><BR>
<DD>
<DT><STRONG><A NAME="item_amount">amount</A></STRONG><BR>
<DD>
<DT><STRONG><A NAME="item_invnum_%2D_invoice">invnum - invoice</A></STRONG><BR>
<DD>
<DT><STRONG><A NAME="item_custnum_%2D_customer">custnum - customer</A></STRONG><BR>
<DD>
<DT><STRONG><A NAME="item_payname_%2D_name_on_card">payname - name on card</A></STRONG><BR>
<DD>
<DT><STRONG><A NAME="item_first_%2D_name">first - name</A></STRONG><BR>
<DD>
<DT><STRONG><A NAME="item_last_%2D_name">last - name</A></STRONG><BR>
<DD>
<DT><STRONG><A NAME="item_address1">address1</A></STRONG><BR>
<DD>
<DT><STRONG><A NAME="item_address2">address2</A></STRONG><BR>
<DD>
<DT><STRONG><A NAME="item_city">city</A></STRONG><BR>
<DD>
<DT><STRONG><A NAME="item_state">state</A></STRONG><BR>
<DD>
<DT><STRONG><A NAME="item_zip">zip</A></STRONG><BR>
<DD>
<DT><STRONG><A NAME="item_country">country</A></STRONG><BR>
<DD>
</DL>
<P>
<HR>
<H1><A NAME="methods">METHODS</A></H1>
<DL>
<DT><STRONG><A NAME="item_new">new HASHREF</A></STRONG><BR>
<DD>
Creates a new record.  To add the record to the database, see <A HREF="#insert">insert</A>.
<P>Note that this stores the hash reference, not a distinct copy of the hash it
points to.  You can ask the object for a copy with the <EM>hash</EM> method.</P>
<P></P>
<DT><STRONG><A NAME="item_insert">insert</A></STRONG><BR>
<DD>
Adds this record to the database.  If there is an error, returns the error,
otherwise returns false.
<P></P>
<DT><STRONG><A NAME="item_delete">delete</A></STRONG><BR>
<DD>
Delete this record from the database.  If there is an error, returns the error,
otherwise returns false.
<P></P>
<DT><STRONG><A NAME="item_replace_OLD_RECORD">replace OLD_RECORD</A></STRONG><BR>
<DD>
#inactive
#
#Replaces the OLD_RECORD with this one in the database.  If there is an error,
#returns the error, otherwise returns false.
<P></P>
<DT><STRONG><A NAME="item_check">check</A></STRONG><BR>
<DD>
Checks all fields to make sure this is a valid transaction.  If there is
an error, returns the error, otherwise returns false.  Called by the insert
and repalce methods.
<P></P></DL>
<P>
<HR>
<H1><A NAME="version">VERSION</A></H1>
<P>$Id: cust_pay_batch.html,v 1.3 2001-04-23 12:40:31 ivan Exp $</P>
<P>
<HR>
<H1><A NAME="bugs">BUGS</A></H1>
<P>There should probably be a configuration file with a list of allowed credit
card types.</P>
<P>
<HR>
<H1><A NAME="see also">SEE ALSO</A></H1>
<P><A HREF=".././FS/cust_main.html">the FS::cust_main manpage</A>, <A HREF=".././FS/Record.html">the FS::Record manpage</A></P>

</BODY>

</HTML>
