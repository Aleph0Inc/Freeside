<head>
  <title>Installation</title>
</head>
<body>
<h1>Installation</h1>
Before installing, you need:
<ul>
  <li>A web server, such as <a href="http://www.apache-ssl.org">Apache-SSL</a> or <a href="http://www.apache.org">Apache</a>
  <li><a href="ftp://ftp.cs.hut.fi/pub/ssh/">SSH</a>
  <li><a href="http://www.perl.com/CPAN/doc/relinfo/INSTALL.html">Perl</a> (at least 5.004_04)
  <li>A database engine supported by Perl's <a href="http://www.hermetica.com/technologia/DBI/">DBI</a>, such as <a href="http://www.tcx.se/">MySQL</a> or <a href="http://www.postgresql.org/">PostgreSQL</a>
  <li>Perl modules
    <ul>
      <li><a href="http://www.perl.com/CPAN/modules/by-module/MIME/">MIME-Base64</a>
      <li><a href="http://www.perl.com/CPAN/modules/by-module/Data">Data-Dumper</a>
      <li><a href="http://www.perl.com/CPAN/modules/by-module/MD5">MD5</a>
      <li><a href="http://www.perl.com/CPAN/modules/by-module/Net">libnet</a>
      <li><a href="http://www.perl.com/CPAN/modules/by-module/LWP/">libwww-perl</a>
      <li><a href="http://www.perl.com/CPAN/modules/by-module/Business/">Business-CreditCard</a>
      <li><a href="http://www.perl.com/CPAN/modules/by-module/Data/">Data-ShowTable</a>
      <li><a href="http://www.perl.com/CPAN/modules/by-module/Mail/">MailTools</a>
      <li><a href="http://www.perl.com/CPAN/modules/by-module/Time/">TimeDate</a>
      <li><a href="http://www.perl.com/CPAN/modules/by-module/Date/">DateManip</a>
      <li><a href="http://www.perl.com/CPAN/modules/by-module/File/">File-CounterFile</a>
      <li><a href="http://www.perl.com/CPAN/modules/by-module/FreezeThaw/">FreezeThaw</a>
      <li><a href="http://www.perl.com/CPAN/modules/by-module/String/">String-Approx</a>
      <li><a href="http://www.perl.com/CPAN/modules/by-module/DBI/">DBI
      <li><a href="http://www.perl.com/CPAN/modules/by-module/DBD/">DBD for your database engine</a>
    </ul>
</ul>
Install the Freeside distribution:
<ul>
  <li>Add the user `freeside' to your system.
  <li>Add the freeside database to your database engine.  (with <a href="http://www.mysql.com/Manual_chapter/manual_Syntax.html#Create database">MySQL</a>) (with <a href="http://www.postgresql.org/docs/admin/manage-ag.htm#AEN854">PostgreSQL</a>)
  <li>Allow the freeside user full access to the freeside database.  (with <a href="http://www.mysql.com/Manual_chapter/manual_Privilege_system.html#Privilege system">MySQL</a>) (with <a href="http://www.postgresql.org/docs/admin/newuser.htm">PostgreSQL</a>)
  <li>Unpack the tarball: <pre>gunzip -c fs-x.y.z.tar.gz | tar xvf -</pre>
  <li>Copy or link fs-x.y.z/site_perl to FS in your site_perl directory.  (try `<code>perl -V</code>' if unsure) <pre>mkdir /usr/local/lib/site_perl/FS
cp fs-x.y.z/site_perl/* /usr/local/lib/site_perl/FS</pre> or <pre>ln -s /full/path/to/fs-x.y.z/site_perl /usr/local/lib/site_perl/FS</pre>
  <li>Copy or link fs-x.y.z/htdocs to your web server's document space.  <pre>mkdir /usr/local/apache/htdocs/freeside
cp -r fs-x.y.z/htdocs/* /usr/local/apache/htdocs/freeside</pre> or <pre>ln -s /full/path/to/fs-x.y.z/htdocs /usr/local/apache/htdocs/freeside</pre>
  <li>Restrict access to this web interface.  (with <a href="http://www.apache.org/docs/misc/FAQ.html#user-authentication">Apache</a>)
  <li>Enable CGI execution for files with the `.cgi' extension.  (with <a href="http://www.apache.org/docs/mod/mod_mime.html#addhandler">Apache</a>)
  <li>Set ownership and permissions for the web interface.  The web interface needs to run as the freeside user - there are several ways to do this.
    <ul>
      <li>Use Perl's setuid emulation: see the <a href="http://www.perl.com/CPAN-local/doc/manual/html/pod/perlsec.html#Security_Bugs">Security Bugs</a> section of the <a href="http://www.perl.com/CPAN-local/doc/manual/html/pod/perlsec.html">perlsec</a> manpage.
<pre>cd /usr/local/apache/htdocs/freeside
chown -R freeside .
chmod 4755 browse/*.cgi edit/*.cgi edit/process/*.cgi misc/*.cgi misc/process/*.cgi search/*.cgi view/*.cgi</pre>
      <li>Use Apache's <a href="http://www.apache.org/docs/suexec.html">suEXEC</a>.
<pre>cd /usr/local/apache/htdocs/freeside
chown -R freeside .
chmod 755 browse/*.cgi edit/*.cgi edit/process/*.cgi misc/*.cgi misc/process/*.cgi search/*.cgi view/*.cgi</pre>
      <li>Use <a href="http://perl.apache.org/">mod_perl</a>.  You should run a separate iteration of Apache[-SSL] as the freeside user.  (Warning:  The redirect method of CGI.pm 2.36 [as distributed with Perl 5.004_04] is broken under mod_perl.  Downlaod the current version from <a href="http://www.perl.com/CPAN/modules/by-module/CGI">CPAN</a>.)
<pre>cd /usr/local/apache/htdocs/freeside
chown -R root .
chmod 755 browse/*.cgi edit/*.cgi edit/process/*.cgi misc/*.cgi misc/process/*.cgi search/*.cgi view/*.cgi</pre>
    </ul>
<li>Create the necessary <a href="config.html">configuration files</a>.
<li>Create the `/usr/local/etc/freeside/counters.<i>datasrc</i>', and 
  `/usr/local/etc/freeside/export.<i>datasrc</i>' directories for each <i>datasrc</i>.
  <li>As the freeside user, run bin/fs-setup to create the database tables.
</ul>
</body>
