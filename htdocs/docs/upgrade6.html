<head>
  <title>Upgrading to 1.2.4</title>
</head>
<body>
<h1>Upgrading to 1.2.4 from 1.2.3</h1>
<ul>
  <li>If migrating from 1.0.0, see these <a href="upgrade.html">instructions</a> first.
  <li>If migrating from less than 1.1.4, see these <a href="upgrade2.html">instructions</a> first.
  <li>If migrating from less than 1.2.0, see these <a href="upgrade3.html">instructions</a> first.
  <li>If migrating from less than 1.2.2, see these <a href="upgrade4.html">instructions</a> first.
  <li>If migrating from less than 1.2.3, see these <a href="upgrade5.html">instructions</a> first.
  <li>Back up your data and current Freeside installation.
  <li>Copy the <i>invoice_template</i> file from the <i>conf/</i> directory in the distribution to your <a href="config.html">configuration directory</a>.
  <li>Install the <a href="http://www.perl.com/CPAN/modules/by-module/Text/">Text-Template</a> Perl module.
  <li>Apply the following changes to your database:
<pre>
CREATE TABLE domain_record (
  recnum int NOT NULL,
  svcnum int NOT NULL,
  reczone varchar(80) NOT NULL,
  recaf char(2) NOT NULL,
  rectype char(5) NOT NULL,
  recdata varchar(80) NOT NULL,
  PRIMARY KEY (recnum)
);
CREATE TABLE svc_www (
  svcnum int NOT NULL,
  recnum int NOT NULL,
  usersvc int NOT NULL,
  PRIMARY KEY (svcnum)
);
ALTER TABLE part_svc ADD svc_www__recnum varchar(80) NULL;
ALTER TABLE part_svc ADD svc_www__recnum_flag char(1) NULL;
ALTER TABLE part_svc ADD svc_www__usersvc varchar(80) NULL;
ALTER TABLE part_svc ADD svc_www__uesrsvc_flag char(1) NULL;
ALTER TABLE svc_acct CHANGE _password _password varchar(50) NULL;

</pre>
  <li>Copy or symlink htdocs to the new copy.
  <li>Remove the symlink or directory <i>(your_site_perl_directory)</i>/FS.
  <li>Change to the FS directory in the new tarball, and build and install the
      Perl modules:
    <pre>
$ cd FS/
$ perl Makefile.PL
$ make
$ su
# make install</pre>
  <li>Run bin/dbdef-create.  This file uses MySQL-specific syntax.  If you are running a different database engine you will need to modify it slightly.
</body>
